@import "../index.scss";
$o: 0.35; /// opacity
$d: 55; /// density
$w: 2160; // grid size
$s: 30s; /// speed

// Generate the snow image using radial gradients
$grad: ();
@for $i from 0 to $d {
	$v: random(4) + 2;
	$a: random(5) * 0.1 + 0.5;
	$grad: $grad,
		radial-gradient(
			$v +
				px
				$v +
				px
				at
				(random($w - $v * 2) + $v) +
				px
				(random($w - $v * 2) + $v) +
				px,
			rgba(255, 255, 255, $a) 50%,
			rgba(0, 0, 0, 0)
		) !global;
}

#Snowfall,
#Snowfall:before,
#Snowfall:after {
	content: "";
	position: absolute;
	top: -$w + px;
	left: 0;
	bottom: 0;
	right: 0;
	border: 50%;
	opacity: $o;
	animation: snow $s linear infinite;
	background-image: $grad;
	background-size: $w + px $w + px;
}
#Snowfall:after {
	margin-left: -$w/3 + px;
	opacity: 0.35;
	animation-duration: $s * 2;
	animation-direction: reverse;
	filter: blur(3px);
}
#Snowfall:before {
	animation-duration: $s * 3;
	animation-direction: reverse;
	margin-left: -$w/2 + px;
	opacity: 0.85;
	filter: blur(1.5px);
}

@keyframes snow {
	to {
		transform: translateY($w + px);
	}
}
